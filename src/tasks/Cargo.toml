# DO NOT EDIT THIS FILE BY HAND!!
# It has been autogenerated from crates.d/rsp2-tasks.Cargo.toml
#
# To update it, run './crates gen' in the workspace root

[package]
name = "rsp2-tasks"
version = "0.1.0"
authors = ["Michael Lamparski <diagonaldevice@gmail.com>"]
description = "Where madness reigns eternal."
edition = "2018"

# Note: Many files within this crate are dual-licensed under MIT and Apache 2.0
license = "GPL-3.0"

[lib]
path = "lib.rs"

[dependencies]
rsp2-tasks-config = { path = "config" }

rsp2-lammps-wrap = { path = "../io/lammps" }
lammps-sys = { version = "0.6.0", features = ["package-manybody", "package-user-misc", "package-user-omp"] }

rsp2-minimize = { path = "../minimize" }
rsp2-structure = { path = "../structure", features = ["serde-support"] }
rsp2-structure-io = { path = "../io/structure" }
rsp2-potentials = { path = "../potentials" }
rsp2-array-types = { path = "../util/array-types", features = ["serde-support"] }
rsp2-soa-ops = { path = "../util/soa-ops", features = ["frunk-support"] }
rsp2-slice-math = { path = "../util/slice-math" }
rsp2-util-macros = { path = "../util/macros" }
rsp2-fs-util = { path = "../util/fs" }
rsp2-clap = { path = "../util/clap" }
rsp2-assert-close = { path = "../util/assert-close" }
rsp2-linalg = { path = "../linalg" }
rsp2-newtype-indices = { path = "../util/newtype-indices" }
rsp2-python = { path = "../python" }
rsp2-dftbplus = { path = "../io/dftbplus", optional = true, default-features = false }
rsp2-phonopy-io = { path = "../io/phonopy" }
rsp2-sparse = { path = "../util/sparse" }
rsp2-dynmat = { path = "../dynmat", features = ["npz", "serde"] }
rsp2-bond-polarizability = { path = "../math/bond-polarizability", features = ["serde-support"] }
rsp2-config-utils = { path = "../util/config" }

clap = "2"
slice-of-array = "0.2.1"
rsp2-kets = { tag = "v0.4.0", git = "https://github.com/ExpHP/rsp2-kets", features = ["serde"] }
rand = "0.3"
log = "0.4"
tee = "0.1.0"
env_logger = "0.6.1"
failure = "0.1.2"
fern = { version = "0.5", features = ["colored"] }
flate2 = "1.0.0"
either = "1"
extension-trait = "0.1.2"
itertools = "0.7"
lazy_static = "1.4"
ansi_term = "0.10"
petgraph = "0.4"
rayon = "1.2.1"
rayon-cond = "0.1.0"
serde = { version = "1.0.91", features = ["rc"] }
serde_derive = "1.0.91"
serde_json = "1"
serde_yaml = "0.7"
serde_ignored = "0.0.4"
path_abs = "0.5.0"
frunk = "0.2.0"
shlex = "0.1.1"
indoc = "1"
lapacke = "0.2"
openblas-src = { version = "0.10", features = ["static"] }
num-traits = "0.2.3"
num-complex = "0.2.1"
num_cpus = "1.8"
mpi = { version = "0.5.4", optional = true }
stack = "0.3"

[dev-dependencies]
xz2 = "0.1.6"

[features]
default = []

nightly = ["beta", "rsp2-array-types/nightly", "rsp2-assert-close/nightly", "rsp2-bond-polarizability/nightly", "rsp2-clap/nightly", "rsp2-config-utils/nightly", "rsp2-dftbplus/nightly", "rsp2-dynmat/nightly", "rsp2-fs-util/nightly", "rsp2-lammps-wrap/nightly", "rsp2-linalg/nightly", "rsp2-minimize/nightly", "rsp2-newtype-indices/nightly", "rsp2-phonopy-io/nightly", "rsp2-potentials/nightly", "rsp2-python/nightly", "rsp2-slice-math/nightly", "rsp2-soa-ops/nightly", "rsp2-sparse/nightly", "rsp2-structure-io/nightly", "rsp2-structure/nightly", "rsp2-tasks-config/nightly", "rsp2-util-macros/nightly"]
beta = ["rsp2-array-types/beta", "rsp2-assert-close/beta", "rsp2-bond-polarizability/beta", "rsp2-clap/beta", "rsp2-config-utils/beta", "rsp2-dftbplus/beta", "rsp2-dynmat/beta", "rsp2-fs-util/beta", "rsp2-lammps-wrap/beta", "rsp2-linalg/beta", "rsp2-minimize/beta", "rsp2-newtype-indices/beta", "rsp2-phonopy-io/beta", "rsp2-potentials/beta", "rsp2-python/beta", "rsp2-slice-math/beta", "rsp2-soa-ops/beta", "rsp2-sparse/beta", "rsp2-structure-io/beta", "rsp2-structure/beta", "rsp2-tasks-config/beta", "rsp2-util-macros/beta"]

# FIXME
# Features for optional deps, because the implicit features defined by deps do not scale well.
# For now, THESE are what you should toggle in dependent crates.
#
# Once namespaced-features are stabilized, these features will be renamed after the deps.
# see https://github.com/rust-lang/cargo/issues/1286 (problem and proposal)
#     https://github.com/rust-lang/cargo/issues/5565 (tracking issue, of sorts)
mpi-support = ["mpi", "rsp2-lammps-wrap/mpi-support"]
dftbplus-support = ["rsp2-dftbplus", "rsp2-dftbplus/dftbplus-support"]
